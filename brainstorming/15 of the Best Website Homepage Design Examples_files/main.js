var visitorLanguage={init:function(){this.getHeaderInformation()},getLanguageAndCountry:function(e){var t=this.getBrowserObject();t.language!==undefined&&(t.language=t.language.toLowerCase()),e.language!==undefined&&(e.language=e.language.toLowerCase()),visitorLanguage.determineCorrectVariable("language",t.language,e.language),t.country!==undefined&&(t.country=t.country.toUpperCase()),e.country!==undefined&&(e.country=e.country.toUpperCase()),visitorLanguage.determineCorrectVariable("country",t.country,e.country)},getHeaderInformation:function(){$.ajax({async:!1,callback:"callback",crossDomain:!0,method:"get",url:"https://visitor-language.herokuapp.com/lang",dataType:"jsonp",success:function(e){e!==undefined&&e.languages!==undefined&&visitorLanguage.getLanguageAndCountry(visitorLanguage.parseLanguageArray(e.languages))},error:function(e){visitorLanguage.getLanguageAndCountry(visitorLanguage.buildLanguageObject("",""))}})},getBrowserObject:function(){var e=navigator.languages||navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage;if($.isArray(e))return this.parseLanguageArray(e);var t=visitorLanguage.parseLanguageString(e);return visitorLanguage.buildLanguageObject(t[0],t[1])},determineCorrectVariable:function(e,t,n){if(t===n&&t!==undefined&&n!==undefined){this.addHiddenLanguageInput(e,t);return}if(t!==n&&t.length>0&&t!==undefined){this.addHiddenLanguageInput(e,t);return}if(t!==n&&n.length>0&&n!==undefined){this.addHiddenLanguageInput(e,n);return}},parseLanguageString:function(e){var t;return e.indexOf("_")!==-1?t=e.split("_"):t=e.split("-"),t},parseLanguageArray:function(e){var t=[],n=[],r;return $.each(e,function(e){r=visitorLanguage.parseLanguageString(this),t.splice(e,0,r[0]),n.splice(e,0,r[1])}),visitorLanguage.buildLanguageObject(visitorLanguage.parseArrayToSingleOption(t),visitorLanguage.parseArrayToSingleOption(n))},buildLanguageObject:function(e,t){if(e===""||e===undefined||e.length<2)e=undefined;if(t===""||t===undefined||t.length<2)t=undefined;var n={};return n.language=e,n.country=t,n},parseArrayToSingleOption:function(e){return e.length==0?undefined:e[0]},addHiddenLanguageInput:function(e,t){var n={language:"browser_language",country:"browser_country"};$hiddenInput=$("<input>").attr({type:"hidden",name:n[e],value:t}),$(".hs-form").each(function(){$(this).append($hiddenInput)})}};$(window).load(function(){visitorLanguage.init()});