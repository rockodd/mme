var Handlebars={};Handlebars.VERSION="1.0.beta.6",Handlebars.helpers={},Handlebars.partials={},Handlebars.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},Handlebars.registerPartial=function(e,t){this.partials[e]=t},Handlebars.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Could not find property '"+e+"'")});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse||function(){},r=t.fn,i="",s=toString.call(e);s===functionType&&(e=e.call(this));if(e===!0)return r(this);if(e===!1||e==null)return n(this);if(s==="[object Array]"){if(e.length>0)for(var o=0,u=e.length;o<u;o++)i+=r(e[o]);else i=n(this);return i}return r(e)}),Handlebars.registerHelper("each",function(e,t){var n=t.fn,r=t.inverse,i="";if(e&&e.length>0)for(var s=0,o=e.length;s<o;s++)i+=n(e[s]);else i=r(this);return i}),Handlebars.registerHelper("if",function(e,t){var n=toString.call(e);return n===functionType&&(e=e.call(this)),!e||Handlebars.Utils.isEmpty(e)?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("unless",function(e,t){var n=t.fn,r=t.inverse;return t.fn=r,t.inverse=n,Handlebars.helpers["if"].call(this,e,t)}),Handlebars.registerHelper("with",function(e,t){return t.fn(e)}),Handlebars.registerHelper("log",function(e){Handlebars.log(e)}),Handlebars.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.message=t.message},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/&(?!\w+;)|[<>"'`]/g,n=/[&<>"'`]/,r=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():e==null||e===!1?"":n.test(e)?e.replace(t,r):e},isEmpty:function(e){return typeof e=="undefined"?!0:e===null?!0:e===!1?!0:Object.prototype.toString.call(e)==="[object Array]"&&e.length===0?!0:!1}}}(),Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var r=this.programs[e];return n?Handlebars.VM.program(t,n):r?r:(r=this.programs[e]=Handlebars.VM.program(t),r)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,r){return r=r||{},e.call(t,Handlebars,n,r.helpers,r.partials,r.data)}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,2);return function(n,i){return i=i||{},e.apply(this,[n,i.data||t].concat(r))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,r,i,s){options={helpers:r,partials:i,data:s};if(e===undefined)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,options);if(!Handlebars.compile)throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode");return i[t]=Handlebars.compile(e),i[t](n,options)}},Handlebars.template=Handlebars.VM.template,function(){var e=function(e,t,n,r,i){function c(e,t){var r="",i,s;return r+='\n        <div class="field hs-form-field">\n          <div id="captcha_wrapper"></div>\n        </div>\n        <script type="text/javascript">\n          Recaptcha.create("',s=n.captchaKey,s?i=s.call(e,{hash:{}}):(i=e.captchaKey,i=typeof i===a?i():i),r+=f(i)+'", "captcha_wrapper", { theme: "white" });\n        </script>\n        ',r}n=n||e.helpers;var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div id="comment-form" class="new-comments">\n  <form id="blog-comment-form" class="hs-form new-comments" action="',u=n.action,u?o=u.call(t,{hash:{}}):(o=t.action,o=typeof o===a?o():o),s+=f(o)+'" method="post">\n    <div class="hs-richtext"><h4>Add a comment</h4></div>\n    <div class="hs_firstName hs_firstname field hs-form-field">\n      <label placeholder="Enter your First Name">First Name<span class="hs-form-required"> * </span></label>\n      <div class="input">\n        <input class="hs-input" type="text" name="firstName" maxlength="100" placeholder="First Name"/>\n      </div>\n    </div>\n\n    <div class="hs_lastName hs_lastname field hs-form-field">\n      <label placeholder="Enter your Last Name">Last Name<span class="hs-form-required"> * </span></label>\n      <div class="input">\n        <input class="hs-input" type="text" name="lastName" maxlength="100" placeholder="Last Name"/>\n      </div>\n    </div>\n\n    <div class="hs_email field hs-form-field">\n      <label>Email<span class="hs-form-required"> * </span></label>\n      <div class="input">\n        <input class="hs-input" type="text" name="userEmail" placeholder="Email"/>\n      </div>\n    </div>\n\n    <div class="hs_website field hs-form-field">\n      <label placeholder="Enter your Website">Website</label>\n      <div class="input">\n        <input class="hs-input" type="text" name="userUrl" placeholder="Website"/>\n      </div>\n    </div>\n\n    <div class="hs_comment field hs-form-field">\n      <label placeholder="Enter your Comment">Comment</label>\n      <div class="input">\n        <textarea class="hs-input" rows="10" cols="40" name="comment" placeholder="Your comment here..."></textarea>\n      </div>\n    </div>\n\n    <div class="hs_subscribe field hs-form-field">\n      <div class="input">\n        <label placeholder="Enter your Subscribe to follow-up comments for this post">\n          <input type="checkbox" name="subscribe" value="true" />\n          Subscribe to Follow Up Comments for this Post\n        </label>\n      </div>\n    </div>\n\n    <div class="hs_submit">\n      <div class="actions">\n        ',o=t.captchaRequired,o=n["if"].call(t,o,{hash:{},inverse:l.noop,fn:l.program(1,c,i)});if(o||o===0)s+=o;return s+='\n        <input type="submit" class="hs-button primary large" value="Submit Comment" />\n      </div>\n    </div>\n\n    <input type="hidden" id="id_portalId" name="portalId" value="',u=n.portalId,u?o=u.call(t,{hash:{}}):(o=t.portalId,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentId" name="contentId" value="',u=n.contentId,u?o=u.call(t,{hash:{}}):(o=t.contentId,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_collectionId" name="collectionId" value="',u=n.collectionId,u?o=u.call(t,{hash:{}}):(o=t.collectionId,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentAuthorEmail" name="contentAuthorEmail" value="',u=n.contentAuthorEmail,u?o=u.call(t,{hash:{}}):(o=t.contentAuthorEmail,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentAuthorName" name="contentAuthorName" value="',u=n.contentAuthorName,u?o=u.call(t,{hash:{}}):(o=t.contentAuthorName,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_comment_verification_text" name="comment_verification_text" value="',u=n.commentVerificationText,u?o=u.call(t,{hash:{}}):(o=t.commentVerificationText,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentTitle" name="contentTitle" value="',u=n.contentTitle,u?o=u.call(t,{hash:{}}):(o=t.contentTitle,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentPermalink" name="contentPermalink" value="',u=n.contentPermalink,u?o=u.call(t,{hash:{}}):(o=t.contentPermalink,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentCreatedAt" name="contentCreatedAt" value="',u=n.contentCreatedAt,u?o=u.call(t,{hash:{}}):(o=t.contentCreatedAt,o=typeof o===a?o():o),s+=f(o)+'" />\n  </form>\n\n</div><!-- end comment-form -->\n',s};if(typeof define!="function"||!define.amdj)return this.Handlebars.templates||(this.Handlebars.templates={}),this.Handlebars.templates.comment_form=Handlebars.template(e);define(["Handlebars"],function(){return Handlebars.template(e)})}.call(this),function(){var e=function(e,t,n,r,i){function c(e,t){var r="",i,s;return r+='\n    <div class="field hs-form-field">\n      <div id="captcha_wrapper"></div>\n    </div>\n    <script type="text/javascript">\n      hsjQuery(window).load(function() {\n        Recaptcha.create("',s=n.captchaKey,s?i=s.call(e,{hash:{}}):(i=e.captchaKey,i=typeof i===a?i():i),r+=f(i)+'", "captcha_wrapper", { theme: "white" });\n      });\n    </script>\n    ',r}n=n||e.helpers;var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div id="comment-form" class="new-comments">\n    <input type="hidden" id="id_portalId" name="portalId" value="',u=n.portalId,u?o=u.call(t,{hash:{}}):(o=t.portalId,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentId" name="contentId" value="',u=n.contentId,u?o=u.call(t,{hash:{}}):(o=t.contentId,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_collectionId" name="collectionId" value="',u=n.collectionId,u?o=u.call(t,{hash:{}}):(o=t.collectionId,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentAuthorEmail" name="contentAuthorEmail" value="',u=n.contentAuthorEmail,u?o=u.call(t,{hash:{}}):(o=t.contentAuthorEmail,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentAuthorName" name="contentAuthorName" value="',u=n.contentAuthorName,u?o=u.call(t,{hash:{}}):(o=t.contentAuthorName,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_comment_verification_text" name="comment_verification_text" value="',u=n.commentVerificationText,u?o=u.call(t,{hash:{}}):(o=t.commentVerificationText,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentTitle" name="contentTitle" value="',u=n.contentTitle,u?o=u.call(t,{hash:{}}):(o=t.contentTitle,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentPermalink" name="contentPermalink" value="',u=n.contentPermalink,u?o=u.call(t,{hash:{}}):(o=t.contentPermalink,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_contentCreatedAt" name="contentCreatedAt" value="',u=n.contentCreatedAt,u?o=u.call(t,{hash:{}}):(o=t.contentCreatedAt,o=typeof o===a?o():o),s+=f(o)+'" />\n    <input type="hidden" id="id_formGuid" name="formGuid" value="',u=n.formId,u?o=u.call(t,{hash:{}}):(o=t.formId,o=typeof o===a?o():o),s+=f(o)+'" />\n\n    ',o=t.captchaRequired,o=n["if"].call(t,o,{hash:{},inverse:l.noop,fn:l.program(1,c,i)});if(o||o===0)s+=o;return s+="\n\n</div><!-- end comment-form -->\n\n<script type=\"text/javascript\">\n  var shuffleForm = function() {\n    hsjQuery('#comment-form input[type=hidden]').appendTo('#comment-form form');\n    hsjQuery('#comment-form form').attr('action', '",u=n.action,u?o=u.call(t,{hash:{}}):(o=t.action,o=typeof o===a?o():o),s+=f(o)+"');\n    hsjQuery('#captcha_wrapper').parent().insertBefore('#comment-form form input[type=submit]');\n  }\n\nhsjQuery(window).load(function() {\n  hbspt.forms.create({\n    portalId: '",u=n.portalId,u?o=u.call(t,{hash:{}}):(o=t.portalId,o=typeof o===a?o():o),s+=f(o)+"',\n    formId: '",u=n.formId,u?o=u.call(t,{hash:{}}):(o=t.formId,o=typeof o===a?o():o),s+=f(o)+"',\n    target: '#comment-form',\n    redirectUrl: 'http://www.hubspot.com/contact-sales/thanks/',\n    pageId: '23423',\n    pageName: 'My great landing page',\n    css: '.your-custom-css {background-color: #fe7722}',\n    requiredCss: '.my-custom-error-msgs {border-radius: 3px;}',\n    submitButtonClass: 'hs-button primary',\n    onFormReady: shuffleForm\n  });\n});\n</script>\n",s};if(typeof define!="function"||!define.amdj)return this.Handlebars.templates||(this.Handlebars.templates={}),this.Handlebars.templates.comment_form_forms=Handlebars.template(e);define(["Handlebars"],function(){return Handlebars.template(e)})}.call(this),function(){var e=function(e,t,n,r,i){function l(e,t){var r="",i;r+='\n    <div class="comment depth-',i=e.depth,i=typeof i===u?i():i,r+=a(i)+'" data-threadid="',i=e.threadId,i=typeof i===u?i():i,r+=a(i)+'">\n        <div class="comment-from">\n          <h4>\n            ',i=e.userUrl,i=n["if"].call(e,i,{hash:{},inverse:f.program(4,h,t),fn:f.program(2,c,t)});if(i||i===0)r+=i;r+='\n          </h4>\n        </div>\n        <div class="comment-date">',i=e.createdAt,i=typeof i===u?i():i,r+=a(i)+'</div>\n        <div class="comment-body"><p>',i=e.comment,i=typeof i===u?i():i,r+=a(i)+"</p></div>\n        ",i=e.canReply,i=n["if"].call(e,i,{hash:{},inverse:f.noop,fn:f.program(6,p,t)});if(i||i===0)r+=i;return r+="\n      </div>\n",r}function c(e,t){var n="",r;return n+='\n            <a href="',r=e.userUrl,r=typeof r===u?r():r,n+=a(r)+'" rel="nofollow" target="_blank">',r=e.userName,r=typeof r===u?r():r,n+=a(r)+"</a>\n            ",n}function h(e,t){var n="",r;return n+="\n            ",r=e.userName,r=typeof r===u?r():r,n+=a(r)+"\n            ",n}function p(e,t){var n="",r;return n+='\n          <button class="comment-reply-to hs-button secondary">Reply to <em>',r=e.userName,r=typeof r===u?r():r,n+=a(r)+"</em></button>\n        ",n}n=n||e.helpers;var s="",o,u="function",a=this.escapeExpression,f=this;o=t.comments,o=n.each.call(t,o,{hash:{},inverse:f.noop,fn:f.program(1,l,i)});if(o||o===0)s+=o;return s+="\n",s};if(typeof define!="function"||!define.amdj)return this.Handlebars.templates||(this.Handlebars.templates={}),this.Handlebars.templates.comment_list=Handlebars.template(e);define(["Handlebars"],function(){return Handlebars.template(e)})}.call(this),function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;T={isSaving:!1},e={local:"http://localhost:8002/comments/v3",qa:"https://api.hubapiqa.com/comments/v3",prod:"https://api.hubapi.com/comments/v3"},d=typeof hsjQuery!="undefined"&&hsjQuery!==null?hsjQuery:jQuery,t=function(t){return e[t]},n=function(e){return""+t(e)+"/comments/thread"},r=function(e,n){return""+t(e)+"/comment?portalId="+n},window.hsEmbedComments=function(e){var t;return e.timestamp=e.timestamp?e.timestamp:(new Date).getTime(),t=d.extend(!0,{},i,e),v(t),u(t),g(t),c(),l(),E()},u=function(e){if(!e.showComments)return;return d.ajax(n(e.apiEnv),{dataType:"jsonp",type:"GET",data:e,jsonpCallback:"callback",error:function(e,t,n){var r;r="Error getting comments from API: "+t;if(n)return r+="; "+n},success:function(t,n,r){return m(e,t)}})},m=function(e,t){var n,r,i,s,u,f,l,c,h;n=d(e.target),s=[],h=t.objects;for(l=0,c=h.length;l<c;l++)i=h[l],f=(new Date(i.createdAt)).toLocaleString(),r=i.comment.replace(/\n/g,"<br/>"),s.push({userUrl:o(i.userUrl),userName:i.userName,comment:new Handlebars.SafeString(r),threadId:i.threadId,createdAt:f,depth:a(i.threadId),canReply:a(i.threadId)<e.maxThreadDepth&&e.showForm});return u=Handlebars.templates.comment_list({comments:s}),s.length||n.addClass("no-comments"),n.append(u),p(e)},o=function(e){return e&&e.indexOf("http")!==0?"http://"+e:e},g=function(e){var t,n,i,s;if(e.showForm)return n=r(e.apiEnv,e.portalId),s=e.formId?Handlebars.templates.comment_form_forms:Handlebars.templates.comment_form,i=s(d.extend(!0,e,{action:n})),t=d(e.target),t.after(i),d("form#blog-comment-form.new-comments").submit(w)},w=function(e){var t;return d("form#blog-comment-form.new-comments .hs-common-error-message").remove(),d("form#blog-comment-form.new-comments .hs-common-confirm-message").remove(),T.isSaving?!1:x()?S()?!0:(e.preventDefault(),e.stopPropagation(),T.isSaving=!0,d('form#blog-comment-form.new-comments input[type="submit"]').val("Saving..."),t={portalId:Number(d("#id_portalId").val()),contentId:Number(d("#id_contentId").val()),collectionId:Number(d("#id_collectionId").val()),userName:d("#id_userName").val(),userEmail:d("#id_userEmail").val(),userUrl:d("#id_userUrl").val(),comment:d("#id_comment").val(),contentTitle:d("#id_contentTitle").val(),contentPermalink:d("#id_contentPermalink").val(),contentAuthorEmail:d("#id_contentAuthorEmail").val(),contentAuthorName:d("#id_contentAuthorName").val(),contentCreatedAt:d("#id_contentCreatedAt").val()},d.ajax(d("form#blog-comment-form.new-comments").attr("action"),{headers:{"Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify(t),dataType:"json",type:"POST",error:function(e){return d('form#blog-comment-form.new-comments input[type="submit"]').val("Submit"),b(e.message,!0),T.isSaving=!1},success:function(e,t,n){return d('form#blog-comment-form.new-comments input[type="submit"]').val("Submit"),b(d("#id_comment_verification_text").val()+'<span id="hs-added-comment-id" style="display:none">'+e.id+"</span>",!1),T.isSaving=!1,d("input#add-comment-button").addClass("hidden"),d("form#blog-comment-form.new-comments .field").hide("slow")}}),!1):!1},x=function(){var e;return e=[],d("#id_userName").val()||e.push("Name is required"),d("#id_userEmail").val()?d("#id_userEmail").val().indexOf("@")===-1&&e.push("Email address is not valid"):e.push("Email is required"),d("#id_comment").val()||e.push("Comment is required"),y(e)},y=function(e){return e.length>0?(e.unshift("One or more errors occurred:"),b(e.join("<br/>&bull; "),!0),!1):!0},c=function(){var e,t;if(e=s("unsubscribed",!0))return t="Successfully unsubscribed "+e+"!",b(Handlebars.Utils.escapeExpression(t),!1,d(".body-container"))},l=function(){var e,t;t=s("success",!0),e=s("error");if(t)return b(d("#id_comment_verification_text").val(),!1);if(e)return y(e)},E=function(){return d("body").on("click",".comment-reply-to",function(){var e,t;t=d(this).parents(".comment");if(!t)return;return e=d("#comment-form"),d(".comment-reply-to").show(),e.find("input[name=replyingTo]").remove(),e.hide(),d("#comment-form").addClass("replying"),d("#comment-form > h4").text("Replying to "+d(this).find("em").html()),d("#id_userName").focus(),e.insertAfter(t),e.show(),e.find("form").append(d('<input type="hidden" name="replyingTo" value="'+t.data("threadid")+'"/>')),d(this).hide(),d("html, body").animate({scrollTop:e.offset().top})})},p=function(e){var t;if(typeof hljs=="undefined"||hljs===null)return;return typeof hljs.configure=="function"&&hljs.configure({useBR:!0}),t=d(e.target),t.find("pre code").each(function(e,t){return typeof hljs.highlightBlock=="function"?hljs.highlightBlock(t):void 0})},a=function(e){var t,n,r,i,s;n=e.split("."),t=-1;for(i=0,s=n.length;i<s;i++){r=n[i];if(r==="0000")return t;t++}return t},S=function(){var e;return e=s("submitViaForm",!0),!0},h=function(){return"withCredentials"in new XMLHttpRequest},v=function(e){var t,n,r,i;return t=e.css,n=f(),n?(document.createStyleSheet().cssText=t,i="ieMakesMeCry"):(r=document.createElement("STYLE"),r.type="text/css",r.innerHTML=t,document.getElementsByTagName("HEAD")[0].appendChild(r))},f=function(){var e,t,n,r;n=void 0,r=3,t=document.createElement("div"),e=t.getElementsByTagName("i");for(;;){t.innerHTML="<!--[if gt IE "+ ++r+"]><i></i><![endif]-->";if(!e[0])break}return r>4?r:n},b=function(e,t,n){var r,i;return r=n||d("#comment-form.new-comments"),i=d("<div></div>"),t?i.addClass("hs-common-error-message"):i.addClass("hs-common-confirm-message"),i.html(e),r.prepend(i),d("html, body").animate({scrollTop:r.offset().top})},s=function(e,t){var n,r,i;i=new RegExp("[?&]"+e+"=([^&]+)(?=&|$)","g"),r=[];while((n=i.exec(location.search))!==null)r.push(decodeURIComponent(n[1].replace(/\+/g," ")));return r.length===0?null:t?r[0]:r},i={portalId:null,collectionId:null,contentId:null,css:".comment-reply-to{background:url(https://static2cdn.hubspot.com/pictos_images/static-1.6/img/pictos-1-png/16/pictos-set1-21.png) no-repeat 5px;border:0;padding-left:25px;color:#333}.replying{padding-left:2em}.comment-from,.comment-date{display:inline-block}.comment-from h4{font-size:1.2em;font-weight:700}.comment-date{font-size:.8em;color:#666}#comment-form h4{font-size:1.4em}.comment.depth-0{border-top:2px solid #eee;padding-top:2em;margin-top:2em}.comment.depth-0:first-child{margin-top:0}.comment.depth-1{padding-left:2em}.comment.depth-2{padding-left:4em}.comment.depth-3{padding-left:6em}.comment.depth-4{padding-left:8em}.comment.depth-5{padding-left:10em}.comment.depth-6{padding-left:12em}.comment.depth-7{padding-left:14em}.comment.depth-8{padding-left:16em}.comment.depth-9{padding-left:18em}.shuffle{display:none}.hs_subscribe ul{padding-left:0}.hs_subscribe li{list-style:none}",maxThreadDepth:3}}.call(this),function(){}.call(this);